\documentclass{article}
\usepackage[pdftex]{graphicx}
\usepackage{amsmath}


\begin{document}

\section{Hello, David}
My goal for this document is for it to contain most of our thoughts and sort of iteratively converge to a good final document.

\section{Levels of Anonymity}
There are three main properties that a anonymization system might want to satisfy.

NOTES: Lets cross-check this against the literature.
\subsection{Receiver Anonymity}
The server cannot determine the identity of the client.
\subsection{Sender Anonymity}
Clients cannot determine who is providing they content they download.
\subsection{Sender-Receiver Unlinkability}
An adversary with some level of knowledge of the whole system cannot determine who is communicating with whom.
\subsection{Data Privacy}
Any proxies invovled have no way of figuring out the data.  This will of course require that the client get some sort of public key for the server.
\subsection{Server Unawares}
The server is unaware that it is being commuicated with via a proxy.
\section{Scenarios}
In this section, we present scenarios that would warrant the properties above.
\subsection{End-to-End Connection}
Two people know each other's addresses and need to stay unlinkable.
\subsection{Unsecure chat room.}
You want to connect to a Free Opressistan Forum.  You probably don't want your password visible, and you don't want to be linkable to the site either.

\section{General Approaches}
\subsection{Proxy}
Simply route your traffic through a proxy.
\subsection{Onion Routing and MIXes}
We can do some things to make the proxy approach better.
\subsection{Broadcast}
Just send your packet to everyone and no one will know who the intended recipient was.

\section{XIA}
Some features of XIA have implications when it comes to anonymity.
\subsection{Intrinsic Security}
\subsection{The Content Principle}

\section{Adapting Existing Methods for XIA}
In this section we discuss how existing approaches work in XIA.
\subsection{AD-Provided Proxy}
AD routes based on SID, which we trust them not to link to us.
\subsection{Bound-Route Proxy Service}
Your requests all take the same route.
\subsection{Altruistic Onion Routing}
How should Tor work in an XIA setting?

\section{New Approaches Made Possible by XIA}
\subsection{Multi-Route Proxy Service}
Your requests all take different routes.

\section{Challenges Posed by XIA}
While XIA provides new mechanisms we can harness for anonymization, some features of the new architecture also introduce challenges to providing anonymity.
\subsection{The trouble with SIDs}
In this section we talk about the "I'll only encrypt with the addressee public key" pitfall.

\section{PDRSA}
Fuck this section.
\subsection{Algorithm}
Here we present the algorithm for Piecewise-Decrypt RSA.  The main difference now is that there are now two private keys, one of which is kept and the other of which is passed  to the proxy.  I forgot why this distinction is important.  I may have wasted a few hours on this.
\subsubsection{Key generation}
Let $p$, $q$ be large primes like in RSA. Define $n = pq$. Note that $\phi(n) = (p-1)(q-1)$. Now select $e$, $d_2$ that are coprime with $\phi(n)$.  This implies that $ed_2$ is also coprime with $\phi(n)$.  While $e$ can be selected to minimize the cost of encryption, $d_2$ must be selected randomly.  Let $d_2 = (d_1e)^{-1} \mod(p-1)(q-1)$.  

Publish $(e,n)$ as the public key.  $(d_2, n)$ is the semiprivate key.  $(d_1, n)$ is the private key. 
\subsubsection{Encryption}
$c = m^{e} \mod n$
\subsubsection{First Pass Decryption}
$h = c^{d_2} \mod n$
\subsubsection{Final Decryption}
$m = h^{d_1} \mod n$
\subsection{Proof of Correctness}
Pretty similar to the one on wikipedia for RSA.  Fermat's is easier to understand, but Euler's is shorter.
\end{document}